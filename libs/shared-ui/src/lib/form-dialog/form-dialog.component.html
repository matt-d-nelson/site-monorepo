<dialog #formDialog>
  <h1>{{ dialogConfig?.header }}</h1>
  <form [formGroup]="dialogConfig?.form">
    <div *ngFor="let config of dialogConfig?.formConfig">
      <div [ngSwitch]="config?.type">
        <core-ui-input
          *ngSwitchCase="'text'"
          [label]="config?.label"
          type="text"
          [control]="dialogConfig?.form?.get(config?.control)"
          [parentForm]="dialogConfig?.form"
        >
        </core-ui-input>

        <core-ui-input
          *ngSwitchCase="'password'"
          [label]="config?.label"
          type="password"
          [control]="dialogConfig?.form?.get(config?.control)"
          [parentForm]="dialogConfig?.form"
        >
        </core-ui-input>

        <div *ngSwitchDefault>Unknown input type: {{ config?.type }}</div>
      </div>
    </div>
    <!-- form validation errors -->
    <div>
      <small *ngIf="dialogConfig?.form?.hasError('passwordMismatch')"
        >Passwords do not match.</small
      >
    </div>
  </form>
  <core-ui-button
    [label]="dialogConfig?.confirmConfig?.label"
    (onClick)="handleConfirm()"
  ></core-ui-button>
  <core-ui-button label="Cancel" (onClick)="closeModal()"></core-ui-button>
</dialog>
